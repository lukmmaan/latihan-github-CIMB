<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

<script>

    let ArrNamaBuah = ['Apel', 'Mangga', 'Jeruk']
    let ArrHargaBuah = [4000, 5000, 2500]
    let ArrStokBuah = [5, 5, 5]
    let ArrInput = [0, 0, 0]
    let tulisan = ''
    var klik
    var jumlahbuah
    var inputjumlahbuah
    let kondisimenu
    let totalharga
    let uanganda
    let kondisiuang
    let chart
    do {
        tulisan = ''
    for (let i = 0; i < ArrNamaBuah.length; i++) {

        tulisan = tulisan + (i + 1) + '. Buah ' + ArrNamaBuah[i] + ' Harga Buah ' + ArrHargaBuah[i] + ' Stok Buah ' + ArrStokBuah[i] + '\n \n'

    }
       // tulisan += `${ArrNamaBuah.length+1}.Checkout`
       tulisan += (ArrNamaBuah.length+1) + '. Checkout \n \n'
       tulisan += (ArrNamaBuah.length+2) + '. Chart Belanja'
        klik = prompt('    Masukkan angka untuk memilih buah: \n \n' + tulisan)

        // klik = klik - 1
        for (let j = 0; j < ArrHargaBuah.length; j++) {
            jumlahbuah = ('Buah ' + ArrNamaBuah[j] + ', Harga Buah ' + ArrHargaBuah[j] + ', Stok Buah ' + ArrStokBuah[j] + '\n \n' + 'Mau beli berapa banyak buah ? \n \n')
            if (klik - 1 == j) {

                inputjumlahbuah = prompt(jumlahbuah)
                ArrInput[klik - 1] += parseInt(inputjumlahbuah)
                if (inputjumlahbuah > ArrStokBuah[j]) {
                    alert('Stok ' + ArrNamaBuah[j] + ' habis')
                    kondisimenu = false
                }
                else {
                    kondisimenu = true
                    ArrStokBuah[j] -= parseInt(inputjumlahbuah)
                }
            }
            else if (klik == ArrNamaBuah.length+1) {
                totalharga = 0
                for (let i = 0; i < ArrHargaBuah.length; i++) {
                    totalharga = totalharga + (ArrHargaBuah[i] * ArrInput[i])

                }
                alert('Harga Total Keseluruhan adalah ' + totalharga)
                do {
                    uanganda = prompt('Total Uang Anda Berapa?')
                    if (totalharga == uanganda) {
                        ArrInput.fill(0)
                        alert('Uang anda pas')
                        kondisiuang = false
                        j = 100
                    }
                    else if (totalharga < uanganda) {
                        ArrInput.fill(0)
                        kembalian = uanganda - totalharga
                        alert('Kembalian Anda ' + kembalian)
                        kondisiuang = false
                        
                    }
                    else {
                        kurang = totalharga - uanganda
                        alert('Anda Kurang Uang Sebesar ' + kurang)
                        kondisiuang = true
                        
                    }
                    break
                } while (kondisiuang)
            }
            else if (klik == ArrNamaBuah.length+2) 
            {
                totalharga = 0
                for (let i = 0; i < ArrHargaBuah.length; i++) {
                totalharga = totalharga + (ArrHargaBuah[i] * ArrInput[i])}

                chart = ''
                for (let i = 0; i < ArrNamaBuah.length; i++) {
                    chart += ((i+1) +'. Anda Membeli Buah ' + ArrNamaBuah[i] + ' Sebanyak ' + ArrInput[i] + ' dengan total harga Rp.' + ArrHargaBuah[i]*ArrInput[i] + '\n\n')
                    
                }

                alert('Total Harga yang dibayar adalah : ' + totalharga+ '\n\n' +
                       'Dengan detail pembelian anda = \n\n' + chart)
                break
            }

        }
    }
    while (kondisimenu)

</script>

</html>